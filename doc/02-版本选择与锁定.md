# 版本选择与锁定（企业强制）

> [< 上一篇：系统架构](01-系统架构.md) | [返回目录](README.md) | [下一篇：同机部署网络拓扑 >](03-同机部署网络拓扑.md)

## 为什么必须锁定版本

LiteLLM 的接口/行为会随版本变化；使用 `main-latest` 会导致：
- 管理/统计接口路径变动，WordPress 插件与运维脚本随时失效
- 行为/默认配置变动导致兼容性问题（权限/用量/成本等表现不一致）
- 生产事故难以回溯与复现

## 推荐策略（本文档默认版本：v1.80.11，更新日期：2026-01-13）

- **预生产先验收**：把你要的能力（Key 管理、UI、指标、成本/用量）跑通再上生产
- **生产锁定镜像**：在 `.env` 设置 `LITELLM_IMAGE=ghcr.io/berriai/litellm:v1.80.11`（或你验收通过的版本）
- **更严格（可选）**：用镜像 digest 锁定（内部记录即可）

## 官方参考（建议作为版本来源与能力清单）

- LiteLLM 官方仓库（功能/发布/变更）：[BerriAI/litellm](https://github.com/BerriAI/litellm)
- 官方描述的核心能力（摘要）：作为 AI Gateway / Proxy Server，支持 100+ LLM API（OpenAI 格式或原生格式），并提供成本追踪、负载均衡、日志等能力（详见官方仓库 README）。

## 上线前验收清单（最低）

- `/health` 正常
- 你实际要用的 `/v1/...` endpoints 可用
- `/key/generate`、`/key/list`、`/key/block`、`/key/delete` 可用
- `/ui` 可访问（若需要被 iframe 嵌入，需验证 CSP/反代头）

## 在本项目中如何落地

- 修改 `.env` 中 `LITELLM_IMAGE`：把版本替换为你验收通过的版本（本文档示例为 `v1.80.11`）

